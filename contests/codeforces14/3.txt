4
3 1
3 1 2
1 3
5
4 2
2 2 1 3
6 3
4 1 2 2 4 3

1969C - Minimizing the Sum
The small values of ğ‘˜ leads to the idea that expected solution is dynamic programming. 
In fact, we can actually design a dynamic programming solution.

Let ğ‘‘ğ‘ğ‘–,ğ‘— be the minimum sum, if we considered the first ğ‘– elements and already done ğ‘— operations. 
Note that, we can turn a segment of length ğ‘‘+1 into a minimum on it using ğ‘‘ operations. So the transitions can be done by iterating over the length of the next segment (denote it as ğ‘‘) and we can update ğ‘‘ğ‘ğ‘–+ğ‘‘+1,ğ‘—+ğ‘‘ with ğ‘‘ğ‘ğ‘–,ğ‘—+(ğ‘‘+1)â‹…ğ‘¥, where ğ‘¥ is the minimum among ğ‘ğ‘–,ğ‘ğ‘–+1,â€¦,ğ‘ğ‘–+ğ‘‘âˆ’1 (that can be maintained in a single variable during iteration over ğ‘‘).

There are ğ‘‚(ğ‘›ğ‘˜) states in the dynamic programming and ğ‘‚(ğ‘˜) transitions from each of them, 
so the solution works in ğ‘‚(ğ‘›ğ‘˜2).